(this.webpackJsonpweather_information=this.webpackJsonpweather_information||[]).push([[0],{145:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a(30),n=a.n(c),i=(a(145),a(80)),s=a.n(i),o=a(229),l=a(13),u=a(115),d=a(223),j=a(225),b=a(227),p=a(228),h=a(215),m=a(209),f=a(34),O=a(21),x=a(27),y=a.n(x),_=a(44),v=a(16),g=a(15),C=a(108).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),w="4b7c90762237282b15b2b9f3ae36eec5",F={getCities:function(e){return C.get("weather?id=".concat(e,"&units=metric&appid=").concat(w))},getNewCityName:function(e){return C.get("weather?q=".concat(e,"&units=metric&appid=").concat(w))},getHourlyForecast:function(e,t){return C.get("onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely,daily&units=metric&appid=").concat(w))}};function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=new Date(1e3*e),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=r[a.getMonth()],n=a.getDate(),i=a.getHours(),s=i,o=a.getMinutes(),l=o<10?"0"+o:o,u="am";return i>12?(s=i-12,u="pm"):12===i?(s=12,u="pm"):0===i&&(s=12),t?s+u:n+" "+c+" "+s+":"+l+u}var N="SET_FORECAST_CITIES",I="SET_DEFAULT_FORECAST_CITIES",M="IS_FETCHING",E="IS_UPDATE",T="UPDATE_FORECAST_CITY",k="SET_NEW_CITY_NAME",S="SET_ERROR",A="UPLOAD_HOURLY_FORECAST",U="RESET_HOURLY_FORECAST",R="REMOVE_CITY",P={cities:[],isFetching:null,isUpdate:[],newCityName:"",hourlyForecast:null};var L=function(e){return{type:k,text:e}},H=function(e){return{type:M,isFetching:e}},W=function(e,t){return{type:E,cityID:e,isUpdate:t}},J=function(e){return{type:R,cityID:e}},Y=function(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(H(!0)),t.next=3,F.getCities(e);case 3:r=t.sent,a((c=r.data,{type:I,cityData:c})),a(H(!1));case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(){return function(e){e({type:U})}},K=a(23),V=a.n(K),z=a(230),G=a(2);function X(e){var t=e.updateInProgress,a=Object(u.a)(e,["updateInProgress"]),c=Object(O.b)(),n=Object(O.c)((function(e){return e.cities.hourlyForecast})),i=Object(r.useState)(!1),s=Object(l.a)(i,2),x=s[0],v=s[1],g=Object(f.a)(),C=Object(m.a)(g.breakpoints.down("md")),w="http://openweathermap.org/img/wn/".concat(a.city.weather[0].icon,"@2x.png"),N=0,I=function(){c(B()),v(!1)};return Object(G.jsxs)("div",{children:[Object(G.jsx)(d.a,{variant:"outlined",color:"inherit",disabled:t,sx:{color:"#ffff",borderColor:"#bfbfbf"},onClick:function(){var e,t;v(!0),c((e=a.city.coord.lat,t=a.city.coord.lon,function(){var a=Object(_.a)(y.a.mark((function a(r){var c,n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F.getHourlyForecast(e,t);case 2:"OK"===(c=a.sent).statusText&&(n=c.data.hourly.splice(0,12).map((function(e){return{time:D(e.dt,!0),temp:Math.round(e.temp),icon:e.weather[0].icon}})),r({type:A,hourlyForecas:n}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()))},children:" More details "}),Object(G.jsxs)(j.a,{fullScreen:C,open:x,onClose:I,sx:{".MuiPaper-root":{backgroundColor:"rgba(0, 0, 0, .4)",backdropFilter:"blur(7px)"}},"aria-labelledby":"responsive-dialog-title",children:[Object(G.jsxs)(h.a,{id:"responsive-dialog-title",className:V.a.title,children:[Object(G.jsxs)("div",{children:[Object(G.jsx)("p",{children:a.dateTime}),a.city.name,", ",a.city.sys.country]}),Object(G.jsx)("button",{className:V.a.btnClose,onClick:I,children:"\u2716"})]}),Object(G.jsxs)(b.a,{children:[Object(G.jsxs)(p.a,{className:V.a.tempWrapper,children:[Object(G.jsx)("img",{className:V.a.weatherIcon,src:w,alt:"weather icon"}),Object(G.jsxs)("span",{className:V.a.temp,children:[Math.round(a.city.main.temp),"\xb0C"]})]}),Object(G.jsxs)("div",{className:V.a.forecast,children:[Object(G.jsxs)("div",{children:["Feels like: ",Math.round(a.city.main.feels_like),"\xb0C."]}),Object(G.jsxs)("div",{children:["Minimum temperature at the moment : ",Math.round(a.city.main.temp_min),"\xb0C."]}),Object(G.jsxs)("div",{children:["Maximum temperature at the moment : ",Math.round(a.city.main.temp_max),"\xb0C."]}),Object(G.jsxs)("div",{children:[a.city.weather[0].main,": ",a.city.weather[0].description,"."]}),a.city.clouds&&Object(G.jsxs)("div",{children:["Cloudiness : ",Math.round(a.city.clouds.all)," %."]}),a.city.main.pressur&&Object(G.jsxs)("div",{children:["Atmospheric pressure : ",a.city.main.pressure,"hPa."]}),a.city.main.humidity&&Object(G.jsxs)("div",{children:["Humidity: ",a.city.main.humidity,"%. "]}),a.city.wind.speed&&Object(G.jsxs)("div",{children:["Wind speed : ",Math.round(a.city.wind.speed)," m/s."]}),a.city.rain&&Object(G.jsxs)("div",{children:["Rain volume for the last 1 hour : ",a.city.rain["1h"]," mm."]}),a.city.rain&&Object(G.jsxs)("div",{children:["Rain volume for the last 3 hours : ",a.city.rain["3h"]," mm."]}),a.city.snow&&Object(G.jsxs)("div",{children:["Snow volume for the last 1 hour : ",a.city.snow["1h"]," mm."]}),a.city.snow&&Object(G.jsxs)("div",{children:["Snow volume for the last 3 hours : ",a.city.snow["3h"]," mm."]})]})]}),Object(G.jsx)("div",{className:V.a.hourlyForecast,children:n?n.map((function(e,t){return N+=33,Object(G.jsx)(q,{temp:e.temp,icon:e.icon,time:e.time,identLeft:N},t)})):Object(G.jsx)(o.a,{color:"inherit",sx:{color:"#ffff"}})})]})]})}var q=function(e){var t=e.temp,a=e.identLeft,r=e.icon,c=e.time,n=33===a?0:a-33,i=t>0?"+"+t:t,s="http://openweathermap.org/img/wn/".concat(r,"@2x.png"),o="#ff0000";return t>=25?o="rgba(248,255,0,0.9)":t>=20?o="rgba(251,255,90,0.9)":t>=15?o="rgba(252,255,117,0.9)":t>=10?o="rgba(242,245,163,0.9)":t>=5?o="rgba(160,222,248,0.9)":t>=0?o="rgba(125,186,248,0.9)":t>=-5?o="rgba(90,169,248,0.9)":t>=-10?o="rgba(73,163,255,0.9)":t>=-15?o="rgba(50,151,255,0.9)":t>=-20?o="rgba(28,140,255,0.9)":t>=-25&&(o="rgba(0,116,219,0.9)"),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(z.a,{className:V.a.hourlyForecast__item,sx:{top:"calc(50% - ".concat(t,"%)"),left:n+"px",backgroundColor:o},children:i}),Object(G.jsx)("img",{className:V.a.hourlyForecast__icon,src:s,style:{top:"calc(50% - ".concat(t+13,"%)"),left:n+"px"},alt:"icon"}),Object(G.jsx)("span",{className:V.a.hourlyForecast__time,style:{left:n+"px"},children:c})]})},Q=a(42),Z=a.n(Q),$=a(231),ee=a(219),te=a(232),ae=a(110),re=a.n(ae),ce=a(111),ne=a.n(ce),ie=function(e){var t="http://openweathermap.org/img/wn/".concat(e.city.weather[0].icon,"@2x.png"),a=e.city.weather[0].description&&e.city.weather[0].description[0].toUpperCase()+e.city.weather[0].description.slice(1),r=Object(O.b)(),c=Object(O.c)((function(e){return e.cities.isUpdate})),n=D(e.city.dt),i=c.some((function(t){return t===e.city.id}));return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:Z.a.wrapper,children:i?Object(G.jsx)("div",{className:Z.a.loader,children:Object(G.jsx)(o.a,{color:"inherit",sx:{color:"#ffff"}})}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:Z.a.dateTime,children:n}),Object(G.jsxs)("div",{className:Z.a.head,children:[e.city.name,", ",e.city.sys.country]}),Object(G.jsxs)("div",{className:Z.a.body,children:[Object(G.jsx)("img",{src:t,alt:"weather icon"}),Object(G.jsxs)("p",{children:[Math.round(e.city.main.temp),"\xb0C"]})]}),Object(G.jsxs)("div",{className:Z.a.footer,children:["Feels like ",Math.round(e.city.main.feels_like),"\xb0C. ",a,"."]})]})}),Object(G.jsx)($.a,{sx:{borderColor:"#bfbfbf"}}),Object(G.jsxs)("div",{className:Z.a.btns,children:[Object(G.jsx)(X,{updateInProgress:i,city:e.city,dateTime:n}),Object(G.jsx)(se,{onDeleteCity:function(e){r(function(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(J(JSON.parse(localStorage.getItem(e)))),a(J(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},id:e.city.id,onUpdateForecastCity:function(e){r(function(e){return function(){var t=Object(_.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(W(e,!0)),t.next=3,F.getCities(e);case 3:r=t.sent,a((c=r.data,{type:T,cityData:c})),a(W(e,!1));case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},updateInProgress:i})]})]})},se=function(e){return Object(G.jsxs)("div",{children:[Object(G.jsx)(ee.a,{title:"Delete",placement:"top",children:Object(G.jsx)(te.a,{"aria-label":"delete",onClick:function(){e.onDeleteCity(e.id)},disabled:e.updateInProgress,children:Object(G.jsx)(re.a,{})})}),Object(G.jsx)(ee.a,{title:"Update",placement:"top",children:Object(G.jsx)(te.a,{"aria-label":"update",onClick:function(){e.onUpdateForecastCity(e.id)},disabled:e.updateInProgress,children:Object(G.jsx)(ne.a,{})})})]})},oe=a(220),le=a(234),ue=a(112),de=a.n(ue),je=a(233),be=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),s=i[0],o=i[1],u=Object(O.b)(),m=Object(O.c)((function(e){return e.cities.newCityName})),f=(Object(O.c)((function(e){return e.cities.newCityName})),function(){c(!1)});return Object(G.jsxs)("div",{children:[Object(G.jsx)(je.a,{color:"inherit","aria-label":"add",sx:{color:"#ffff",backgroundColor:"transparent",":hover":{backgroundColor:"#50505078"},border:"".concat(1,"px solid #bfbfbf")},onClick:function(){c(!0)},children:Object(G.jsx)(de.a,{})}),Object(G.jsxs)(j.a,{open:a,onClose:f,sx:{".MuiPaper-root":{backgroundColor:"rgba(0, 0, 0, .5)",backdropFilter:"blur(7px)"},".MuiInputBase-root::before":{borderColor:"#ffff"},".MuiInputBase-root":{color:"#ffff"},".MuiInputLabel-root":{color:"#ffff"}},children:[Object(G.jsx)(h.a,{sx:{color:"#ffff"},children:"Add new city"}),Object(G.jsxs)(b.a,{children:[Object(G.jsxs)(p.a,{sx:{color:"#ffff"},children:["To add a new city, enter the city name and country separated by commas. ",Object(G.jsx)("br",{}),"Example: ",Object(G.jsx)("span",{className:V.a.example,children:"Kharkiv, UA"})]}),Object(G.jsx)(oe.a,{autoFocus:!0,margin:"dense",id:"name",label:"Kharkiv, UA",type:"text",fullWidth:!0,variant:"standard",value:m,onChange:function(e){var t;u((t=e.target.value,function(){var e=Object(_.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(L(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}),Object(G.jsx)("div",{className:V.a.error,children:s&&s.toUpperCase()})]}),Object(G.jsxs)(le.a,{children:[Object(G.jsx)(d.a,{onClick:f,children:"Cancel"}),Object(G.jsx)(d.a,{onClick:function(){var e;u((e=m,function(){var t=Object(_.a)(y.a.mark((function t(a){var r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getNewCityName(e);case 2:if("OK"!==(r=t.sent).statusText){t.next=8;break}return a((c=r.data,{type:N,cityData:c})),t.abrupt("return",r.data.status);case 8:return t.abrupt("return",r.data.statusText);case 9:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){return c(!1)}),(function(e){return o(e.response.data.message)}))},children:"Add"})]})]})]})},pe=a(73),he=a.n(pe),me=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.cities.cities})),a=Object(O.c)((function(e){return e.cities.isFetching}));return Object(r.useEffect)((function(){e(Y(5128581)),e(Y(2759794)),e(Y(2950158)),e(Y(706483))}),[]),a?Object(G.jsx)(o.a,{size:100,thickness:5,color:"inherit",sx:{position:"absolute",inset:"".concat(45,"% 0 0 ",45,"%"),color:"#ffff"}}):Object(G.jsx)("div",{className:he.a.wrapper,children:Object(G.jsxs)(G.Fragment,{children:[t.map((function(e){return Object(G.jsx)("div",{className:he.a.card,children:Object(G.jsx)(ie,{city:e})},e.id)})),Object(G.jsx)("div",{className:he.a.addCard,children:Object(G.jsx)(be,{})})]})})},fe=a(17);var Oe=function(){return Object(G.jsx)("main",{className:s.a.app,children:Object(G.jsxs)(fe.d,{children:[Object(G.jsx)(fe.b,{exact:!0,path:"/",children:Object(G.jsx)(me,{})}),Object(G.jsx)(fe.a,{to:"/"})]})})},xe=a(59),ye=a(113),_e=Object(xe.b)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var a=e.cities.some((function(e){return e.id===t.cityData.id}));return a?Object(g.a)({},e):Object(g.a)(Object(g.a)({},e),{},{cities:[].concat(Object(v.a)(e.cities),[t.cityData])});case I:return Object(g.a)(Object(g.a)({},e),{},{cities:[].concat(Object(v.a)(e.cities),[t.cityData])});case T:return Object(g.a)(Object(g.a)({},e),{},{cities:e.cities.map((function(e){return e.id===t.cityData.id?Object(g.a)(Object(g.a)({},e),t.cityData):e}))});case S:return Object(g.a)(Object(g.a)({},e),{},{error:t.error});case A:return Object(g.a)(Object(g.a)({},e),{},{hourlyForecast:Object(v.a)(t.hourlyForecas)});case U:return Object(g.a)(Object(g.a)({},e),{},{hourlyForecast:null});case R:return Object(g.a)(Object(g.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.cityID.id}))});case k:return Object(g.a)(Object(g.a)({},e),{},{newCityName:t.text});case M:return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case E:return Object(g.a)(Object(g.a)({},e),{},{isUpdate:t.isUpdate?[].concat(Object(v.a)(e.isUpdate),[t.cityID]):e.isUpdate.filter((function(e){return e!==t.cityID}))});default:return e}}}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe.c,ge=Object(xe.d)(_e,ve(Object(xe.a)(ye.a))),Ce=a(82);n.a.render(Object(G.jsx)(Ce.a,{children:Object(G.jsx)(O.a,{store:ge,children:Object(G.jsx)(Oe,{})})}),document.getElementById("root"))},23:function(e,t,a){e.exports={title:"modalMoreDetails_title__36iPS",btnClose:"modalMoreDetails_btnClose__fRiZB",tempWrapper:"modalMoreDetails_tempWrapper__1PAR9",weatherIcon:"modalMoreDetails_weatherIcon__374yG",temp:"modalMoreDetails_temp__33t-D",forecast:"modalMoreDetails_forecast__oTztA",hourlyForecast:"modalMoreDetails_hourlyForecast__1sbGi",hourlyForecast__item:"modalMoreDetails_hourlyForecast__item__3BWyE",hourlyForecast__icon:"modalMoreDetails_hourlyForecast__icon__10Ysz",hourlyForecast__time:"modalMoreDetails_hourlyForecast__time__258IR",example:"modalMoreDetails_example__3ycuD",error:"modalMoreDetails_error__wPKDV"}},42:function(e,t,a){e.exports={wrapper:"CardItem_wrapper__2Ivob",dateTime:"CardItem_dateTime__2bov_",head:"CardItem_head__3Eoa8",body:"CardItem_body__2T3ov",footer:"CardItem_footer__6oT9t",btns:"CardItem_btns__1vHyJ",loader:"CardItem_loader__12lgu"}},73:function(e,t,a){e.exports={wrapper:"CityList_wrapper__cNWlX",card:"CityList_card__2CqHf",addCard:"CityList_addCard__spH7V"}},80:function(e,t,a){e.exports={app:"App_app__QbNjA",wrapper:"App_wrapper__36aDE"}}},[[175,1,2]]]);
//# sourceMappingURL=main.abfbd6c6.chunk.js.map