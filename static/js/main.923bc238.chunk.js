(this.webpackJsonpweather_information=this.webpackJsonpweather_information||[]).push([[0],{145:function(e,t,r){},175:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r(30),n=r.n(c),i=(r(145),r(65)),s=r.n(i),o=r(229),l=r(13),d=r(115),u=r(223),j=r(225),p=r(227),b=r(228),h=r(215),m=r(209),f=r(34),O=r(22),_=r(27),y=r.n(_),x=r(44),v=r(16),C=r(15),g=r(108).create({baseURL:"https://api.openweathermap.org/data/2.5/"}),w="4b7c90762237282b15b2b9f3ae36eec5",I={getCities:function(e){return g.get("weather?id=".concat(e,"&units=metric&appid=").concat(w))},getNewCityName:function(e){return g.get("weather?q=".concat(e,"&units=metric&appid=").concat(w))},getHourlyForecast:function(e,t){return g.get("onecall?lat=".concat(e,"&lon=").concat(t,"&exclude=minutely,daily&units=metric&appid=").concat(w))}};function D(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Date(1e3*e),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=a[r.getMonth()],n=r.getDate(),i=r.getHours(),s=i,o=r.getMinutes(),l=o<10?"0"+o:o,d="am";return i>12?(s=i-12,d="pm"):12===i?(s=12,d="pm"):0===i&&(s=12),t?s+d:n+" "+c+" "+s+":"+l+d}var N="SET_FORECAST_CITIES",F="SET_DEFAULT_FORECAST_CITIES",M="IS_FETCHING",T="IS_UPDATE",E="UPDATE_FORECAST_CITY",k="SET_NEW_CITY_NAME",S="SET_ERROR",P="UPLOAD_HOURLY_FORECAST",A="RESET_HOURLY_FORECAST",U="HIDDEN_IDENTICAL_CITY",R="REMOVE_CITY",L={cities:[],isFetching:null,isUpdate:[],isIdenticalCity:!1,newCityName:"",hourlyForecast:null};var H=function(e){return{type:k,text:e}},W=function(e){return{type:M,isFetching:e}},Y=function(e,t){return{type:T,cityID:e,isUpdate:t}},J=function(e){return{type:R,cityID:e}},B=function(e){return function(){var t=Object(x.a)(y.a.mark((function t(r){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(W(!0)),t.next=3,I.getCities(e);case 3:a=t.sent,r((c=a.data,{type:F,cityData:c})),r(W(!1));case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(){return function(e){e({type:A})}},z=function(){return function(e){e({type:U})}},V=r(19),G=r.n(V),X=r(230),q=r(2);function Q(e){var t=e.updateInProgress,r=Object(d.a)(e,["updateInProgress"]),c=Object(O.b)(),n=Object(O.c)((function(e){return e.cities.hourlyForecast})),i=Object(a.useState)(!1),s=Object(l.a)(i,2),_=s[0],v=s[1],C=Object(f.a)(),g=Object(m.a)(C.breakpoints.down("md")),w="http://openweathermap.org/img/wn/".concat(r.city.weather[0].icon,"@2x.png"),N=0,F=function(){c(K()),v(!1)};return Object(q.jsxs)("div",{children:[Object(q.jsx)(u.a,{variant:"outlined",color:"inherit",disabled:t,sx:{color:"#ffff",borderColor:"#bfbfbf"},onClick:function(){var e,t;v(!0),c((e=r.city.coord.lat,t=r.city.coord.lon,function(){var r=Object(x.a)(y.a.mark((function r(a){var c,n;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,I.getHourlyForecast(e,t);case 2:"OK"===(c=r.sent).statusText&&(n=c.data.hourly.splice(0,12).map((function(e){return{time:D(e.dt,!0),temp:Math.round(e.temp),icon:e.weather[0].icon}})),a({type:P,hourlyForecas:n}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()))},children:" More details "}),Object(q.jsxs)(j.a,{fullScreen:g,open:_,onClose:F,sx:{".MuiPaper-root":{backgroundColor:"rgba(0, 0, 0, .4)",backdropFilter:"blur(7px)"}},"aria-labelledby":"responsive-dialog-title",children:[Object(q.jsxs)(h.a,{id:"responsive-dialog-title",className:G.a.title,children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:r.dateTime}),r.city.name,", ",r.city.sys.country]}),Object(q.jsx)("button",{className:G.a.btnClose,onClick:F,children:"\u2716"})]}),Object(q.jsxs)(p.a,{children:[Object(q.jsxs)(b.a,{className:G.a.tempWrapper,children:[Object(q.jsx)("img",{className:G.a.weatherIcon,src:w,alt:"weather icon"}),Object(q.jsxs)("span",{className:G.a.temp,children:[Math.round(r.city.main.temp),"\xb0C"]})]}),Object(q.jsxs)("div",{className:G.a.forecast,children:[Object(q.jsxs)("div",{children:["Feels like: ",Math.round(r.city.main.feels_like),"\xb0C."]}),Object(q.jsxs)("div",{children:["Minimum temperature at the moment : ",Math.round(r.city.main.temp_min),"\xb0C."]}),Object(q.jsxs)("div",{children:["Maximum temperature at the moment : ",Math.round(r.city.main.temp_max),"\xb0C."]}),Object(q.jsxs)("div",{children:[r.city.weather[0].main,": ",r.city.weather[0].description,"."]}),r.city.clouds&&Object(q.jsxs)("div",{children:["Cloudiness : ",Math.round(r.city.clouds.all)," %."]}),r.city.main.pressur&&Object(q.jsxs)("div",{children:["Atmospheric pressure : ",r.city.main.pressure,"hPa."]}),r.city.main.humidity&&Object(q.jsxs)("div",{children:["Humidity: ",r.city.main.humidity,"%. "]}),r.city.wind.speed&&Object(q.jsxs)("div",{children:["Wind speed : ",Math.round(r.city.wind.speed)," m/s."]}),r.city.rain&&Object(q.jsxs)("div",{children:["Rain volume for the last 1 hour : ",r.city.rain["1h"]," mm."]}),r.city.rain&&Object(q.jsxs)("div",{children:["Rain volume for the last 3 hours : ",r.city.rain["3h"]," mm."]}),r.city.snow&&Object(q.jsxs)("div",{children:["Snow volume for the last 1 hour : ",r.city.snow["1h"]," mm."]}),r.city.snow&&Object(q.jsxs)("div",{children:["Snow volume for the last 3 hours : ",r.city.snow["3h"]," mm."]})]})]}),Object(q.jsx)("div",{className:G.a.hourlyForecast,children:n?n.map((function(e,t){return N+=33,Object(q.jsx)(Z,{temp:e.temp,icon:e.icon,time:e.time,identLeft:N},t)})):Object(q.jsx)(o.a,{color:"inherit",sx:{color:"#ffff"}})})]})]})}var Z=function(e){var t=e.temp,r=e.identLeft,a=e.icon,c=e.time,n=33===r?0:r-33,i=t>0?"+"+t:t,s="http://openweathermap.org/img/wn/".concat(a,"@2x.png"),o="#ff0000";return t>=25?o="rgba(248,255,0,0.9)":t>=20?o="rgba(251,255,90,0.9)":t>=15?o="rgba(252,255,117,0.9)":t>=10?o="rgba(242,245,163,0.9)":t>=5?o="rgba(160,222,248,0.9)":t>=0?o="rgba(125,186,248,0.9)":t>=-5?o="rgba(90,169,248,0.9)":t>=-10?o="rgba(73,163,255,0.9)":t>=-15?o="rgba(50,151,255,0.9)":t>=-20?o="rgba(28,140,255,0.9)":t>=-25&&(o="rgba(0,116,219,0.9)"),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(X.a,{className:G.a.hourlyForecast__item,sx:{top:"calc(50% - ".concat(t,"%)"),left:n+"px",backgroundColor:o},children:i}),Object(q.jsx)("img",{className:G.a.hourlyForecast__icon,src:s,style:{top:"calc(50% - ".concat(t+13,"%)"),left:n+"px"},alt:"icon"}),Object(q.jsx)("span",{className:G.a.hourlyForecast__time,style:{left:n+"px"},children:c})]})},$=r(42),ee=r.n($),te=r(231),re=r(219),ae=r(232),ce=r(110),ne=r.n(ce),ie=r(111),se=r.n(ie),oe=function(e){var t="http://openweathermap.org/img/wn/".concat(e.city.weather[0].icon,"@2x.png"),r=e.city.weather[0].description&&e.city.weather[0].description[0].toUpperCase()+e.city.weather[0].description.slice(1),a=Object(O.b)(),c=Object(O.c)((function(e){return e.cities.isUpdate})),n=D(e.city.dt),i=c.some((function(t){return t===e.city.id}));return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{className:ee.a.wrapper,children:i?Object(q.jsx)("div",{className:ee.a.loader,children:Object(q.jsx)(o.a,{color:"inherit",sx:{color:"#ffff"}})}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("div",{className:ee.a.dateTime,children:n}),Object(q.jsxs)("div",{className:ee.a.head,children:[e.city.name,", ",e.city.sys.country]}),Object(q.jsxs)("div",{className:ee.a.body,children:[Object(q.jsx)("img",{src:t,alt:"weather icon"}),Object(q.jsxs)("p",{children:[Math.round(e.city.main.temp),"\xb0C"]})]}),Object(q.jsxs)("div",{className:ee.a.footer,children:["Feels like ",Math.round(e.city.main.feels_like),"\xb0C. ",r,"."]})]})}),Object(q.jsx)(te.a,{sx:{borderColor:"#bfbfbf"}}),Object(q.jsxs)("div",{className:ee.a.btns,children:[Object(q.jsx)(Q,{updateInProgress:i,city:e.city,dateTime:n}),Object(q.jsx)(le,{onDeleteCity:function(e){a(function(e){return function(){var t=Object(x.a)(y.a.mark((function t(r){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(J(JSON.parse(localStorage.getItem(e)))),r(J(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},id:e.city.id,onUpdateForecastCity:function(e){a(function(e){return function(){var t=Object(x.a)(y.a.mark((function t(r){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Y(e,!0)),t.next=3,I.getCities(e);case 3:a=t.sent,r((c=a.data,{type:E,cityData:c})),r(Y(e,!1));case 6:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},updateInProgress:i})]})]})},le=function(e){return Object(q.jsxs)("div",{children:[Object(q.jsx)(re.a,{title:"Delete",placement:"top",children:Object(q.jsx)(ae.a,{"aria-label":"delete",onClick:function(){e.onDeleteCity(e.id)},disabled:e.updateInProgress,children:Object(q.jsx)(ne.a,{})})}),Object(q.jsx)(re.a,{title:"Update",placement:"top",children:Object(q.jsx)(ae.a,{"aria-label":"update",onClick:function(){e.onUpdateForecastCity(e.id)},disabled:e.updateInProgress,children:Object(q.jsx)(se.a,{})})})]})},de=r(220),ue=r(234),je=r(112),pe=r.n(je),be=r(233),he=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(!1),i=Object(l.a)(n,2),s=i[0],o=i[1],d=Object(O.b)(),m=Object(O.c)((function(e){return e.cities.newCityName})),f=Object(O.c)((function(e){return e.cities.isIdenticalCity})),_=function(){c(!1)};return Object(q.jsxs)("div",{children:[Object(q.jsx)("div",{children:f&&Object(q.jsxs)("div",{className:G.a.errorPopup__wrapper,children:[Object(q.jsx)("span",{className:G.a.errorPopup,children:"The weather forecast for this city is already on your list"}),Object(q.jsx)("span",{className:G.a.errorPopup__close,onClick:function(){d(z())},children:"\u2716"})]})}),Object(q.jsx)(be.a,{color:"inherit","aria-label":"add",sx:{color:"#ffff",backgroundColor:"transparent",":hover":{backgroundColor:"#50505078"},border:"".concat(1,"px solid #bfbfbf")},onClick:function(){c(!0)},children:Object(q.jsx)(pe.a,{})}),Object(q.jsxs)(j.a,{open:r,onClose:_,sx:{".MuiPaper-root":{backgroundColor:"rgba(0, 0, 0, .5)",backdropFilter:"blur(7px)"},".MuiInputBase-root::before":{borderColor:"#ffff"},".MuiInputBase-root":{color:"#ffff"},".MuiInputLabel-root":{color:"#ffff"}},children:[Object(q.jsx)(h.a,{sx:{color:"#ffff"},children:"Add new city"}),Object(q.jsxs)(p.a,{children:[Object(q.jsxs)(b.a,{sx:{color:"#ffff"},children:["To add a new city, enter the city name and country separated by commas. ",Object(q.jsx)("br",{}),"Example: ",Object(q.jsx)("span",{className:G.a.example,children:"Kharkiv, UA"})]}),Object(q.jsx)(de.a,{autoFocus:!0,margin:"dense",id:"name",label:"Kharkiv, UA",type:"text",fullWidth:!0,variant:"standard",value:m,onChange:function(e){var t;d((t=e.target.value,function(){var e=Object(x.a)(y.a.mark((function e(r){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(H(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}),Object(q.jsx)("div",{className:G.a.error,children:s&&s.toUpperCase()})]}),Object(q.jsxs)(ue.a,{children:[Object(q.jsx)(u.a,{onClick:_,children:"Cancel"}),Object(q.jsx)(u.a,{onClick:function(){var e;d((e=m,function(){var t=Object(x.a)(y.a.mark((function t(r){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.getNewCityName(e);case 2:if("OK"!==(a=t.sent).statusText){t.next=8;break}return r((c=a.data,{type:N,cityData:c})),t.abrupt("return",a.data.status);case 8:return t.abrupt("return",a.data.statusText);case 9:case"end":return t.stop()}var c}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){c(!1)}),(function(e){return o(e.response.data.message)}))},children:"Add"})]})]})]})},me=r(74),fe=r.n(me),Oe=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.cities.cities})),r=Object(O.c)((function(e){return e.cities.isFetching}));return Object(a.useEffect)((function(){e(B(5128581)),e(B(2759794)),e(B(2950158)),e(B(706483))}),[]),r?Object(q.jsx)(o.a,{size:100,thickness:5,color:"inherit",sx:{position:"absolute",inset:"".concat(45,"% 0 0 ",45,"%"),color:"#ffff"}}):Object(q.jsx)("div",{className:fe.a.wrapper,children:Object(q.jsxs)(q.Fragment,{children:[t.map((function(e){return Object(q.jsx)("div",{className:fe.a.card,children:Object(q.jsx)(oe,{city:e})},e.id)})),Object(q.jsx)("div",{className:fe.a.addCard,children:Object(q.jsx)(he,{})})]})})},_e=r(17);var ye=function(){return Object(q.jsxs)("main",{className:s.a.app,children:[Object(q.jsx)("h1",{className:s.a.title,children:"Weather forecast"}),Object(q.jsxs)(_e.d,{children:[Object(q.jsx)(_e.b,{exact:!0,path:"/",children:Object(q.jsx)(Oe,{})}),Object(q.jsx)(_e.a,{to:"/"})]})]})},xe=r(59),ve=r(113),Ce=Object(xe.b)({cities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var r=e.cities.some((function(e){return e.id===t.cityData.id}));return r?Object(C.a)(Object(C.a)({},e),{},{isIdenticalCity:!0,newCityName:""}):Object(C.a)(Object(C.a)({},e),{},{cities:[].concat(Object(v.a)(e.cities),[t.cityData]),newCityName:"",isIdenticalCity:!1});case U:return Object(C.a)(Object(C.a)({},e),{},{isIdenticalCity:!1});case F:return Object(C.a)(Object(C.a)({},e),{},{cities:[].concat(Object(v.a)(e.cities),[t.cityData])});case E:return Object(C.a)(Object(C.a)({},e),{},{cities:e.cities.map((function(e){return e.id===t.cityData.id?Object(C.a)(Object(C.a)({},e),t.cityData):e}))});case S:return Object(C.a)(Object(C.a)({},e),{},{error:t.error});case P:return Object(C.a)(Object(C.a)({},e),{},{hourlyForecast:Object(v.a)(t.hourlyForecas)});case A:return Object(C.a)(Object(C.a)({},e),{},{hourlyForecast:null});case R:return Object(C.a)(Object(C.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.cityID.id}))});case k:return Object(C.a)(Object(C.a)({},e),{},{newCityName:t.text});case M:return Object(C.a)(Object(C.a)({},e),{},{isFetching:t.isFetching});case T:return Object(C.a)(Object(C.a)({},e),{},{isUpdate:t.isUpdate?[].concat(Object(v.a)(e.isUpdate),[t.cityID]):e.isUpdate.filter((function(e){return e!==t.cityID}))});default:return e}}}),ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe.c,we=Object(xe.d)(Ce,ge(Object(xe.a)(ve.a))),Ie=r(82);n.a.render(Object(q.jsx)(Ie.a,{children:Object(q.jsx)(O.a,{store:we,children:Object(q.jsx)(ye,{})})}),document.getElementById("root"))},19:function(e,t,r){e.exports={title:"modalMoreDetails_title__36iPS",btnClose:"modalMoreDetails_btnClose__fRiZB",tempWrapper:"modalMoreDetails_tempWrapper__1PAR9",weatherIcon:"modalMoreDetails_weatherIcon__374yG",temp:"modalMoreDetails_temp__33t-D",forecast:"modalMoreDetails_forecast__oTztA",hourlyForecast:"modalMoreDetails_hourlyForecast__1sbGi",hourlyForecast__item:"modalMoreDetails_hourlyForecast__item__3BWyE",hourlyForecast__icon:"modalMoreDetails_hourlyForecast__icon__10Ysz",hourlyForecast__time:"modalMoreDetails_hourlyForecast__time__258IR",example:"modalMoreDetails_example__3ycuD",error:"modalMoreDetails_error__wPKDV",errorPopup:"modalMoreDetails_errorPopup__35fRU",errorPopup__wrapper:"modalMoreDetails_errorPopup__wrapper___ucsz",errorPopup__close:"modalMoreDetails_errorPopup__close__26kdY"}},42:function(e,t,r){e.exports={wrapper:"CardItem_wrapper__2Ivob",dateTime:"CardItem_dateTime__2bov_",head:"CardItem_head__3Eoa8",body:"CardItem_body__2T3ov",footer:"CardItem_footer__6oT9t",btns:"CardItem_btns__1vHyJ",loader:"CardItem_loader__12lgu"}},65:function(e,t,r){e.exports={app:"App_app__QbNjA",title:"App_title__dACP-",wrapper:"App_wrapper__36aDE"}},74:function(e,t,r){e.exports={wrapper:"CityList_wrapper__cNWlX",card:"CityList_card__2CqHf",addCard:"CityList_addCard__spH7V"}}},[[175,1,2]]]);
//# sourceMappingURL=main.923bc238.chunk.js.map